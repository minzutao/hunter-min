<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="generator" content="pandoc" />




<link rel="stylesheet" href="/style.css" type="text/css" />


<title>ffmpeg编译</title>
<meta name="keywords" content="ubuntu,ffplay,libsdl1.2-dev">

</head>


<body>
<div id="wrapper">

<div id="header">
    <p class="header_titleline">Mike的分享空间</p>
    <p class="header_subline"><a href="/index.html">首页</a></p>
</div>

<h1>ffmpeg编译</h1>
<p>date: 2014.04.25; modification:2014.05.04</p>

 <!--if(title)-->

<p>目录:</p>
<div id="TOC">
<ul>
<li><a href="#编译安装"><span class="toc-section-number">1</span> 编译安装</a></li>
<li><a href="#增加编译支持的格式"><span class="toc-section-number">2</span> 增加编译支持的格式</a></li>
<li><a href="#常见问题"><span class="toc-section-number">3</span> 常见问题</a><ul>
<li><a href="#yasmnasm-not-found-or-too-old.-use---disable-yasm-for-a-crippled-build."><span class="toc-section-number">3.1</span> yasm/nasm not found or too old. Use --disable-yasm for a crippled build.</a></li>
<li><a href="#ffmpeg编译后ffplay没有生成的问题"><span class="toc-section-number">3.2</span> ffmpeg编译后ffplay没有生成的问题</a></li>
</ul></li>
</ul>
</div>
 <!--if(toc)-->

<!---title:ffmpeg编译-->
<!---keywords:ubuntu,ffplay,libsdl1.2-dev-->
<!---date:2014.04.25; modification:2014.05.04-->

<h1 id="编译安装"><span class="header-section-number">1</span> 编译安装</h1>
<pre><code>./configure
make
sudo makeinstall</code></pre>
<h1 id="增加编译支持的格式"><span class="header-section-number">2</span> 增加编译支持的格式</h1>
<ul>
<li>mp3编码: 增加选项: --enable-libmp3lame --enable-shared (需要安装相应的mp3库: sudo apt-get install libmp3lame0 libmp3lame-dev)</li>
<li>h264编码: --enable-libx264</li>
</ul>
<h1 id="常见问题"><span class="header-section-number">3</span> 常见问题</h1>
<h2 id="yasmnasm-not-found-or-too-old.-use---disable-yasm-for-a-crippled-build."><span class="header-section-number">3.1</span> yasm/nasm not found or too old. Use --disable-yasm for a crippled build.</h2>
<p>configure时增加--disable-yasm. (yasm是汇编编译器, 因为ffmpeg中为了提高效率用到了汇编指令, 比如MMX和SSE)</p>
<h2 id="ffmpeg编译后ffplay没有生成的问题"><span class="header-section-number">3.2</span> ffmpeg编译后ffplay没有生成的问题</h2>
<ol style="list-style-type: decimal">
<li>确认Makefile中指定的config.mak(在ffmpeg根目录下)中: CONFIG_FFPLAY=yes, 如果此处不是yes需要在下一步之后重新./configure. 对于ubuntu(12.04)这里为no可能是因为默认没有安装libsdl1.2-dev.</li>
<li>编译时需要安装libsdl1.2-dev(ubuntu默认不安装), 命令为sudo apt-get install libsdl1.2-dev, 如果安装失败, 之前如果安装过sdl-devel包最好将其卸载. 根据错误原因来解决. 也可以参考: <a href="../../linux/usage/ubuntu_libsdl1_2_dev_depend_error.html">解决Ubuntu安装libsdl1.2-dev依赖错误</a></li>
<li>./configure</li>
<li>make, 结束后发现ffplay已经生成了</li>
<li>make install</li>
</ol>
<!-- vim:set tw=0:-->


<div id="footer">
    <p class="footer_titleline">Human knowledge belongs to the world</p>
    <p class="footer_subline">Contact: wytabc@126.com</p>
    <p class="footer_subline">声明: 本站如有侵权行为请及时通知至以上邮箱</p>
</div>
<!--Baidu tongji-->
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fcb5b32b959ab6deadbf7373854572a73' type='text/javascript'%3E%3C/script%3E"));
</script> <!--Baidu tongji-->
</div> <!--wrapper-->

<!--SyntaxHighlighter-->
<script type="text/javascript" src="/scripts/shCore.js"></script>
<script type="text/javascript" src="/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="/scripts/shBrushPython.js"></script>
<script type="text/javascript" src="/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="/scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="/scripts/shBrushXml.js"></script>
<link type="text/css" rel="stylesheet" href="/styles/shCoreFadeToGrey.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

</body>
</html>
